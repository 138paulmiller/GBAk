#!/bin/bash
# Paul Miller - autogenerated script by tool installer script	
# This script is used to convert a PNG to a C-array using png2gba and move the 	
# generated header file into the include directory	
# DO NOT move this script without updating location of PNG2GBA	
if [ $# -gt 1 ]; then	
	HOME=${PWD};	
	PNG2GBA=$GBAK/tools/png2gba/png2gba;	
	DEST=$HOME/$1;
	for IMG in ${@:2}; do
		cd $(dirname $IMG);
		BASE=$(basename $IMG)
		# gen header file
		$PNG2GBA -t -p $BASE;
		# substitute .png ext with .h 
		HEADER=$(echo $BASE | sed -e "s/.png/.h/g")
		mv $HEADER $DEST
		echo generated $HEADER into $DEST		
		cd $HOME	
	done;
else
 echo Usage ./gen_img destination img0.png [img1.png ... ]
fi
